## node是什么
> Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。 

运行环境： 不是一门语言，不是一个框架。他只是JavaScript代码可以运行的一个环境。举个例子，如果浏览器是大陆，V8 是这块大陆上的铁轨，JavaScript程序及时在铁轨上运行的火车。

那Node 在这个里面的应该是啥呢。Node就是把这里面的铁轨给扯了下来，放到外太空了，让外太空也可以跑火车了，而且火车还可以访问外太空的星星（访问本地文件）。

这么说来，我们就可以像使用正常的JavaScript语言编写程序，让它在node里面运行。既然这样，可能有的人就发现，node程序跟我们平时在浏览器上见到JavaScript 程序并不太一样。原因也很简单，node扩展了 JavaScript 的应用场景，添加了fs、http等模块，使得JS的能力大大扩展。

上图：

![Node 构成](http://p9jftl6n6.bkt.clouddn.com/Node%20event%20loop.png)

V8肯定是必不可少的，

node的扩展的一些接口，fs、http等是通过node转换成C++接口调用这些服务的。



## node.js的异步和单线程
    - 事件驱动、非阻塞式 I/O 的模型

process.nextTick和setImmediate

Node 公开宣称的目标是 “旨在提供一种简单的构建可伸缩网络程序的方法”。我们来看一个简单的例子，在 Java和 PHP 这类语言中，每个连接都会生成一个新线程，每个新线程可能需要 2MB 的配套内存。在一个拥有 8 GB RAM 的系统上，理论上最大的并发连接数量是 4,000 个用户。随着您的客户群的增长，如果希望您的 Web 应用程序支持更多用户，那么，您必须添加更多服务器。所以在传统的后台开发中，整个 Web 应用程序架构（包括流量、处理器速度和内存速度）中的瓶颈是：服务器能够处理的并发连接的最大数量。这个不同的架构承载的并发数量是不一致的。 
而Node的出现就是为了解决这个问题：更改连接到服务器的方式。在Node 声称它不允许使用锁，它不会直接阻塞 I/O 调用。Node在每个连接发射一个在 Node 引擎的进程中运行的事件，而不是为每个连接生成一个新的 OS 线程（并为其分配一些配套内存）。

Node.js的单线程并不是真正的单线程，只是开启了单个线程进行业务处理（cpu的运算），同时开启了其他线程专门处理I/O。当一个指令到达主线程，主线程发现有I/O之后，直接把这个事件传给I/O线程，不会等待I/O结束后，再去处理下面的业务，而是拿到一个状态后立即往下走，这就是“单线程”、“异步I/O”。 



JavaScript是由两部分组成：

- core JavaScript
- client JavaScript（DOM、BOM）这部分很大程度上是浏览器对JS的扩展。

而只有core JavaScript可以在node.js上运行，


Libuv

## node核心语法
跟普通的JavaScript一样，

## node的一些内置模块
global
process
console
http


### NPM
对于node没有的一些模块，就需要引入外部模块。
如果方便快捷的引入外部模块，这就是npm帮我们做的工作。

Use npm to install, share, and distribute code; manage dependencies in your projects; and share & receive feedback with others.

[npm官网](https://www.npmjs.com/)


- 包管理：
- 包依赖

npm consists of three distinct components:

- the website
- the Command Line Interface (CLI)
- the registry

Use the `website` to discover packages, set up profiles, and manage other aspects of your npm experience. For example, you can set up Orgs (organizations) to manage access to public or private packages.

The `CLI` runs from a terminal. This is how most developers interact with npm.

The `registry` is a large public database of JavaScript software and the meta-information surrounding it.




[Nodejs的运行原理-科普篇](https://www.cnblogs.com/peiyu1988/p/8032982.html)

[Awesome Micro npm Packages](https://github.com/parro-it/awesome-micro-npm-packages)