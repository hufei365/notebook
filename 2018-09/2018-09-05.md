## WebSocket

### 什么是WebSocket
WebSocket是一种用于在浏览器和服务器之间进行全双工通信的协议。只需要一个TCP连接，就可以在浏览器和服务器之间进行双向通信。所以说，WebSocket是一种网络通信协议，定义了一些标准。更多具体详细的信息可以参考[RFC6455](https://tools.ietf.org/html/rfc6455)。

上面说的是WebSocket通常意义上的解释，但是它也代表HTML5的一种特性。在HTML5中，定义了浏览器端实现WebSocket协议的规范。

### WebSocket出现的背景及要解决的问题
在以前，开发需要在客户端和服务端进行经常性通信的程序需要滥用HTTP协议，通过上行数据用于区分不同的连接状态。
这样会导致一些问题出现：

1. 服务端需要创建大量的HTTP连接，一部分用户接受数据，一部分用于发送数据；
2. HTTP连接有大量的负载，每一个客户端到服务端的连接都需要头部信息；
3. 客户端的脚本需要处理大量的下行连接以便对服务端进行回应；

### WebSocket与HTTP的关系

WebSocket被设计出来用于解决传统的HTTP场景中需要在客户端和服务端进行大量即时通信的场景。这是它的最初目的，并不是为了要取代HTTP。但是因为WebSocket的开放性，理论上你完全可以拿它替代HTTP。

WebSocket与http协议一样都是基于TCP的，所以他们都是可靠的协议，Web开发者调用的WebSocket的send函数在browser 的实现中最终都是通过TCP的系统接口进行传输的。WebSocket和Http协议一样都属于应用层的协议，那么他们之间有没有什么关系呢？答案是肯定 的，WebSocket在建立握手连接时，数据是通过http协议传输的，这里面用到的只是http协议一些简单的字段。但是在建立连接之后，真正的数据传输阶段是不需要http协议参与的。所以有一点需要明确： **WebSocket连接的建立需要通过HTTP协议**。

### WebSocket 原理

### 其它的一些实时通信解决方案
- Poll（轮询）：浏览器定时向服务端发送请求，如果服务端有数据，则将数据返回，没有返回空数据；
- Long Poll（长轮询）：对Poll方式一种改进。如果服务端有新数据，则立即返回，如果没有则等待一段时间再看看是否有新的数据，有则返回，没有也返回空。

### WebSocket适用的场景
WebSocket通常被用于游戏、票务、多用户程序等场景中。

### 什么是socket.io
socket.io是一种基于事件，实时全双工通信的websocket解决方案。跨平台、浏览器或者设备。

### 用socket.io写一个简单的websocket应用

