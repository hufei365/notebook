## Web前端的安全问题


### XSS
XSS(Cross Site Script) 跨站脚本攻击。

在Web页面注入恶意脚本，通过执行这些脚本达到相应目的。

- 非持久型 XSS: 即时性，不经过服务器存储，
- 持久型 XSS：持久性，植入在数据库中
- 基于字符集的 XSS： 由于浏览器在 meta 没有指定 charset 的时候有自动识别编码的机制
- 基于 Flash 的跨站 XSS：因为  ActionScript  有时候需要和 JS 传参交互
- 未经验证的跳转 XSS：

### CSRF

CSRF（Cross-Site Request Forgery），中文名称：跨站请求伪造攻击。攻击者可以盗用你的登陆信息，以你的身份模拟发送各种请求。

完成 CSRF 攻击必须要有三个条件：

1. 用户已经登录了站点 A，并在本地记录了 cookie；
1. 在用户没有登出站点 A 的情况下（也就是 cookie 生效的情况下），访问了恶意攻击者提供的引诱危险站点 B (B 站点要求访问站点A)。
1. 站点 A 没有做任何 CSRF 防御；

### SQL 注入
可以用它来从数据库获取敏感信息，或者利用数据库的特性执行添加用户，导出文件等一系列恶意操作，甚至有可能获取数据库乃至系统用户最高权限。

造成 SQL 注入的原因是因为程序没有有效的转义过滤用户的输入，使攻击者成功的向服务器提交恶意的 SQL 查询代码，程序在接收后错误的将攻击者的输入作为查询语句的一部分执行，导致原始的查询逻辑被改变，额外的执行了攻击者精心构造的恶意代码。

### 命令行注入
原理同SQL注入类似

### DDoS
DDoS 又叫**分布式拒绝服务**，全称 Distributed Denial of Service，其原理就是利用大量的请求造成**资源过载**，导致服务不可用。

这种攻击方式最大的一个特点就是： 
> 你永远无法从绝对上杜绝这种攻击，只要攻击者能够在短时间内发起足够多请求，就完全有可能瘫痪你的服务。
>
> 最后总结下，DDoS 不可能防的住，就好比你的店只能容纳 50 人，黑社会有 100 人，你就换一家大店，能容纳 500 人，然后黑社会又找来了 1000 人，这种堆人头的做法就是 DDoS 本质上的攻防之道，「道高一尺，魔高一丈，魔高一尺，道高一丈」，讲真，必要的时候就答应勒索你的人的条件吧，实在不行就报警吧。

### 流量劫持
流量劫持基本分两种：**DNS 劫持** 和 **HTTP 劫持**，目的都是一样的，就是当用户访问 A 的时候，给你展示的并不是或者不完全是 B 提供的 “内容”。

- DNS 劫持，也叫做域名劫持；「**你打了一辆车想去商场吃饭，结果你打的车是小作坊派来的，直接给你拉到小作坊去了**」
- HTTP 劫持；「**你打了一辆车想去商场吃饭，结果司机跟你一路给你递小作坊的广告**」

值得一提的是，HTTPS（HTTPS 协议就是一种基于 SSL 协议的安全加密网络应用层协议，）不仅可以保证数据传输的安全性，还可以很好的防止 HTTP 劫持。


### 服务器漏洞
- 越权操作漏洞：「**A 用户能看到或者操作 B 用户的隐私内容**」
- 目录遍历漏洞：程序没有充分过滤用户输入的 ../ 之类的目录跳转符，导致用户可以通过提交目录跳转来遍历服务器上的任意文件
- 物理路径泄漏：通常都是系统报错 500 的错误信息直接返回到页面可见导致的漏洞；
- 源码暴露漏洞：和物理路径泄露类似，就是攻击者可以通过请求直接获取到你站点的后端源代码，然后就可以对系统进一步研究攻击